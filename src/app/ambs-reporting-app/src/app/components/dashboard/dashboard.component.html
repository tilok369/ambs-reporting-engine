<div class="row">
    <div class="row" *ngFor="let widget of dashboard?.widgets">
        <div class="alert alert-primary widget-header" role="alert">
            {{widget.name}}
          </div>
        
        <div class="row report-layout" *ngFor="let report of widget?.reports">
            <p class="fw-bold fs-5">{{report.name}}</p>
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-12" *ngFor="let filter of report?.filters">
                    <div class="form-floating mb-3" *ngIf="filter.type==filterType.TextBox">
                        <input type="text" class="form-control" id="text-filter" 
                            [(ngModel)]="filter.value">
                        <label for="text-filter">{{filter.label}}</label>
                    </div>
                    <div class="form-floating mb-3" *ngIf="filter.type==filterType.DateTime">
                        <input type="date" class="form-control" id="date-filter" 
                            [(ngModel)]="filter.value">
                        <label for="date-filter">{{filter.label}}</label>
                    </div>
                    <div class="form-floating mb-3"  *ngIf="filter.type==filterType.CheckBox">
                        <input type="checkbox" class="form-control" id="check-filter"
                            [(ngModel)]="filter.value">
                        <label for="check-filter">{{filter.label}}</label>
                    </div>
                    <div class="form-floating mb-3" *ngIf="filter.type==filterType.Dropdown">
                        <select id="ddl-filter" class="form-select" [(ngModel)]="filter.value"
                            (change)="ddfChange(report,filter);">
                            <option *ngFor="let ddf of filter.dropdownFilters" [value]="ddf.value">
                                {{ddf.name}}</option>
                        </select>
                        <label for="ddl-filter">{{filter.label}}</label>
                    </div>
                </div>
                

            </div>
            <div class="row" *ngIf="report.type==reportType.Tabular">
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-primary"
                    (click)="getReportData(report);">Submit</button>
                </div>
                <div class="col-auto">
                    
                    <div class="input-group">
                        <select class="form-select" id="export-ddl" aria-label="select export type">
                          <option selected>Choose...</option>
                          <option *ngFor="let et of exportTypes" [ngValue]="et.value">
                            {{et.name}}</option>
                        </select>
                        <button type="button" class="btn btn-outline-success" (click)="exportReport(report);">Export </button>
                      </div>
                </div>
            </div>
            <div class="row" *ngIf="report.type==reportType.Graphical">
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-primary"
                    (click)="getReportData(report);">Submit</button>
                </div>
                <div class="col-auto">
                    <button type="button" class="btn btn-outline-success" (click)="exportReport(report);">Export</button>
                </div>
            </div>
            <div class="row">
                <div *ngIf="report.type==reportType.Tabular" style="min-height: 300px;">
                    <app-report-data [tableDatas]="report?.data"></app-report-data>
                </div>
                <div *ngIf="report.type==reportType.Graphical">      
                    <div id="{{report?.id}}" style="min-height: 300px;">  
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>